{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Navbar(){const[isLoggedIn,setIsLoggedIn]=useState(false);const[userName,setUserName]=useState('');const navigate=useNavigate();useEffect(()=>{const storedUserId=localStorage.getItem('userId');const storedUserName=localStorage.getItem('userName');if(storedUserId&&storedUserName&&storedUserName.length>0){setIsLoggedIn(true);setUserName(storedUserName);}else{setIsLoggedIn(false);setUserName('');if(storedUserId){localStorage.removeItem('userId');}}},[]);const handleLogout=()=>{localStorage.removeItem('userId');localStorage.removeItem('userName');setIsLoggedIn(false);setUserName('');navigate('/login');};const loggedInMenu=/*#__PURE__*/_jsxs(\"div\",{className:\"nav-item dropdown\",children:[/*#__PURE__*/_jsxs(\"a\",{className:\"nav-link dropdown-toggle d-flex align-items-center\",href:\"/#\",id:\"navbarDropdown\",role:\"button\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-person-circle me-1\"}),' ',\"Hello, \",userName.split(' ')[0]]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu dropdown-menu-end\",\"aria-labelledby\":\"navbarDropdown\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/profile\",children:\"My Profile\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"hr\",{className:\"dropdown-divider\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item text-danger\",onClick:handleLogout,children:\"Logout\"})})]})]});const loggedOutButtons=/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn btn-lifeline-outline me-2\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"btn btn-lifeline\",children:\"Sign Up\"})]});return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(Link,{className:\"navbar-brand fw-bold text-lifeline\",to:\"/\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-heartbeat me-2\"}),\"LifeLine\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarNav\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarNav\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav mx-auto\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/why-donate\",children:\"Why Donate?\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/search\",children:\"Find Donors\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/request-blood\",children:\"Request Blood\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/about\",children:\"About\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/contact\",children:\"Contact\"})})]}),isLoggedIn?loggedInMenu:loggedOutButtons]})]})});}export default Navbar;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Navbar","isLoggedIn","setIsLoggedIn","userName","setUserName","navigate","storedUserId","localStorage","getItem","storedUserName","length","removeItem","handleLogout","loggedInMenu","className","children","href","id","role","split","to","onClick","loggedOutButtons","type"],"sources":["E:/react+mongodb/lifeline/frontend/src/components/Navbar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\nfunction Navbar() {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [userName, setUserName] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const storedUserId = localStorage.getItem('userId');\r\n    const storedUserName = localStorage.getItem('userName');\r\n\r\n    if (storedUserId && storedUserName && storedUserName.length > 0) {\r\n      setIsLoggedIn(true);\r\n      setUserName(storedUserName);\r\n    } else {\r\n      setIsLoggedIn(false);\r\n      setUserName('');\r\n      if (storedUserId) {\r\n        localStorage.removeItem('userId');\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('userId');\r\n    localStorage.removeItem('userName');\r\n    setIsLoggedIn(false);\r\n    setUserName('');\r\n    navigate('/login');\r\n  };\r\n\r\n  const loggedInMenu = (\r\n    <div className=\"nav-item dropdown\">\r\n      <a\r\n        className=\"nav-link dropdown-toggle d-flex align-items-center\"\r\n        href=\"/#\"\r\n        id=\"navbarDropdown\"\r\n        role=\"button\"\r\n        data-bs-toggle=\"dropdown\"\r\n        aria-expanded=\"false\"\r\n      >\r\n        <i className=\"bi bi-person-circle me-1\"></i>{' '}\r\n        Hello, {userName.split(' ')[0]}\r\n      </a>\r\n      <ul className=\"dropdown-menu dropdown-menu-end\" aria-labelledby=\"navbarDropdown\">\r\n        <li>\r\n          <Link className=\"dropdown-item\" to=\"/profile\">\r\n            My Profile\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <hr className=\"dropdown-divider\" />\r\n        </li>\r\n        <li>\r\n          <button className=\"dropdown-item text-danger\" onClick={handleLogout}>\r\n            Logout\r\n          </button>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n\r\n  const loggedOutButtons = (\r\n    <div className=\"d-flex\">\r\n      <Link to=\"/login\" className=\"btn btn-lifeline-outline me-2\">\r\n        Login\r\n      </Link>\r\n      <Link to=\"/signup\" className=\"btn btn-lifeline\">\r\n        Sign Up\r\n      </Link>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top\">\r\n      <div className=\"container\">\r\n        <Link className=\"navbar-brand fw-bold text-lifeline\" to=\"/\">\r\n          <i className=\"fas fa-heartbeat me-2\"></i>LifeLine\r\n        </Link>\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-bs-toggle=\"collapse\"\r\n          data-bs-target=\"#navbarNav\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n          <ul className=\"navbar-nav mx-auto\">\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/\">\r\n                Home\r\n              </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/why-donate\">\r\n                Why Donate?\r\n              </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/search\">\r\n                Find Donors\r\n              </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/request-blood\">\r\n                Request Blood\r\n              </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/about\">\r\n                About\r\n              </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/contact\">\r\n                Contact\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n\r\n          {isLoggedIn ? loggedInMenu : loggedOutButtons}\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErD,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGV,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACW,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAAa,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,YAAY,CAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CACnD,KAAM,CAAAC,cAAc,CAAGF,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAEvD,GAAIF,YAAY,EAAIG,cAAc,EAAIA,cAAc,CAACC,MAAM,CAAG,CAAC,CAAE,CAC/DR,aAAa,CAAC,IAAI,CAAC,CACnBE,WAAW,CAACK,cAAc,CAAC,CAC7B,CAAC,IAAM,CACLP,aAAa,CAAC,KAAK,CAAC,CACpBE,WAAW,CAAC,EAAE,CAAC,CACf,GAAIE,YAAY,CAAE,CAChBC,YAAY,CAACI,UAAU,CAAC,QAAQ,CAAC,CACnC,CACF,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzBL,YAAY,CAACI,UAAU,CAAC,QAAQ,CAAC,CACjCJ,YAAY,CAACI,UAAU,CAAC,UAAU,CAAC,CACnCT,aAAa,CAAC,KAAK,CAAC,CACpBE,WAAW,CAAC,EAAE,CAAC,CACfC,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAED,KAAM,CAAAQ,YAAY,cAChBd,KAAA,QAAKe,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChChB,KAAA,MACEe,SAAS,CAAC,oDAAoD,CAC9DE,IAAI,CAAC,IAAI,CACTC,EAAE,CAAC,gBAAgB,CACnBC,IAAI,CAAC,QAAQ,CACb,iBAAe,UAAU,CACzB,gBAAc,OAAO,CAAAH,QAAA,eAErBlB,IAAA,MAAGiB,SAAS,CAAC,0BAA0B,CAAI,CAAC,CAAC,GAAG,CAAC,SAC1C,CAACX,QAAQ,CAACgB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAC7B,CAAC,cACJpB,KAAA,OAAIe,SAAS,CAAC,iCAAiC,CAAC,kBAAgB,gBAAgB,CAAAC,QAAA,eAC9ElB,IAAA,OAAAkB,QAAA,cACElB,IAAA,CAACH,IAAI,EAACoB,SAAS,CAAC,eAAe,CAACM,EAAE,CAAC,UAAU,CAAAL,QAAA,CAAC,YAE9C,CAAM,CAAC,CACL,CAAC,cACLlB,IAAA,OAAAkB,QAAA,cACElB,IAAA,OAAIiB,SAAS,CAAC,kBAAkB,CAAE,CAAC,CACjC,CAAC,cACLjB,IAAA,OAAAkB,QAAA,cACElB,IAAA,WAAQiB,SAAS,CAAC,2BAA2B,CAACO,OAAO,CAAET,YAAa,CAAAG,QAAA,CAAC,QAErE,CAAQ,CAAC,CACP,CAAC,EACH,CAAC,EACF,CACN,CAED,KAAM,CAAAO,gBAAgB,cACpBvB,KAAA,QAAKe,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBlB,IAAA,CAACH,IAAI,EAAC0B,EAAE,CAAC,QAAQ,CAACN,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAC,OAE5D,CAAM,CAAC,cACPlB,IAAA,CAACH,IAAI,EAAC0B,EAAE,CAAC,SAAS,CAACN,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,SAEhD,CAAM,CAAC,EACJ,CACN,CAED,mBACElB,IAAA,QAAKiB,SAAS,CAAC,oEAAoE,CAAAC,QAAA,cACjFhB,KAAA,QAAKe,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBhB,KAAA,CAACL,IAAI,EAACoB,SAAS,CAAC,oCAAoC,CAACM,EAAE,CAAC,GAAG,CAAAL,QAAA,eACzDlB,IAAA,MAAGiB,SAAS,CAAC,uBAAuB,CAAI,CAAC,WAC3C,EAAM,CAAC,cACPjB,IAAA,WACEiB,SAAS,CAAC,gBAAgB,CAC1BS,IAAI,CAAC,QAAQ,CACb,iBAAe,UAAU,CACzB,iBAAe,YAAY,CAAAR,QAAA,cAE3BlB,IAAA,SAAMiB,SAAS,CAAC,qBAAqB,CAAO,CAAC,CACvC,CAAC,cACTf,KAAA,QAAKe,SAAS,CAAC,0BAA0B,CAACG,EAAE,CAAC,WAAW,CAAAF,QAAA,eACtDhB,KAAA,OAAIe,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eAChClB,IAAA,OAAIiB,SAAS,CAAC,UAAU,CAAAC,QAAA,cACtBlB,IAAA,CAACH,IAAI,EAACoB,SAAS,CAAC,UAAU,CAACM,EAAE,CAAC,GAAG,CAAAL,QAAA,CAAC,MAElC,CAAM,CAAC,CACL,CAAC,cACLlB,IAAA,OAAIiB,SAAS,CAAC,UAAU,CAAAC,QAAA,cACtBlB,IAAA,CAACH,IAAI,EAACoB,SAAS,CAAC,UAAU,CAACM,EAAE,CAAC,aAAa,CAAAL,QAAA,CAAC,aAE5C,CAAM,CAAC,CACL,CAAC,cACLlB,IAAA,OAAIiB,SAAS,CAAC,UAAU,CAAAC,QAAA,cACtBlB,IAAA,CAACH,IAAI,EAACoB,SAAS,CAAC,UAAU,CAACM,EAAE,CAAC,SAAS,CAAAL,QAAA,CAAC,aAExC,CAAM,CAAC,CACL,CAAC,cACLlB,IAAA,OAAIiB,SAAS,CAAC,UAAU,CAAAC,QAAA,cACtBlB,IAAA,CAACH,IAAI,EAACoB,SAAS,CAAC,UAAU,CAACM,EAAE,CAAC,gBAAgB,CAAAL,QAAA,CAAC,eAE/C,CAAM,CAAC,CACL,CAAC,cACLlB,IAAA,OAAIiB,SAAS,CAAC,UAAU,CAAAC,QAAA,cACtBlB,IAAA,CAACH,IAAI,EAACoB,SAAS,CAAC,UAAU,CAACM,EAAE,CAAC,QAAQ,CAAAL,QAAA,CAAC,OAEvC,CAAM,CAAC,CACL,CAAC,cACLlB,IAAA,OAAIiB,SAAS,CAAC,UAAU,CAAAC,QAAA,cACtBlB,IAAA,CAACH,IAAI,EAACoB,SAAS,CAAC,UAAU,CAACM,EAAE,CAAC,UAAU,CAAAL,QAAA,CAAC,SAEzC,CAAM,CAAC,CACL,CAAC,EACH,CAAC,CAEJd,UAAU,CAAGY,YAAY,CAAGS,gBAAgB,EAC1C,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAEA,cAAe,CAAAtB,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}