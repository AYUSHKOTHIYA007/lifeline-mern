{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate,Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE_URL='http://localhost:5000';// ✅ Local backend\nfunction Profile(){const[profile,setProfile]=useState(null);const[errorMsg,setErrorMsg]=useState('');const navigate=useNavigate();const userId=localStorage.getItem('userId');// --- Helper Functions ---\n// ✅ Safe date formatter that works with both string and Date\nconst formatDate=value=>{if(!value)return'N/A';try{const date=new Date(value);// handles Date object or ISO string\nif(isNaN(date.getTime()))return'N/A';return date.toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric'});}catch(e){return'N/A';}};// Function to determine the last donation date\nconst getLastDonationDate=history=>{if(!history||history.length===0)return'Never';const sortedHistory=[...history].sort((a,b)=>new Date(b.donation_date)-new Date(a.donation_date));return formatDate(sortedHistory[0].donation_date);};// --- Data Fetching ---\nuseEffect(()=>{if(!userId){alert('Please log in to view your profile.');navigate('/login');return;}const fetchProfile=async()=>{try{const response=await fetch(\"\".concat(API_BASE_URL,\"/api/profile/\").concat(userId));if(!response.ok){throw new Error('Failed to fetch profile data');}const data=await response.json();setProfile(data);setErrorMsg('');}catch(error){console.error('Error fetching profile:',error);setErrorMsg('Unable to load profile. Please try again later.');}};fetchProfile();},[userId,navigate]);if(errorMsg){return/*#__PURE__*/_jsxs(\"div\",{className:\"container py-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"fw-bold mb-3\",children:\"My Profile\"}),/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:errorMsg})]});}if(!profile||!profile.user){return/*#__PURE__*/_jsx(\"div\",{className:\"container py-4\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading profile...\"})});}// --- Data Preparation ---\nconst lastDonationDate=getLastDonationDate(profile.history);// Build address:\n// 1) Prefer the detailed fields (address_line, city, state, pincode)\n// 2) Fallback to 'address' field (required in schema)\nconst addressParts=[profile.user.address_line,profile.user.city,profile.user.state,profile.user.pincode].filter(Boolean);const fullAddressFromParts=addressParts.join(', ');const displayAddress=fullAddressFromParts||profile.user.address||'Address not set';// Google Maps link: prefer stored google_maps_link; else build from address text\nconst mapHref=profile.user.google_maps_link&&profile.user.google_maps_link.trim()!==''?profile.user.google_maps_link:displayAddress&&displayAddress!=='Address not set'?\"https://maps.google.com/?q=\".concat(encodeURIComponent(displayAddress)):null;// Member since – use created_at if present\nconst memberSinceDate=formatDate(profile.user.created_at);// --- Rendering the Profile UI ---\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"container py-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"fw-bold mb-4\",children:\"My Profile\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row g-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow-sm p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-4 border-bottom pb-3\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0 text-muted\",children:\"Personal Information\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-danger btn-sm\",onClick:()=>navigate('/edit-profile'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-pencil me-1\"}),\" Edit Profile\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"fw-bold mb-0\",children:\"Full Name:\"}),/*#__PURE__*/_jsx(\"p\",{children:profile.user.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"fw-bold mb-0\",children:\"Email Address:\"}),/*#__PURE__*/_jsx(\"p\",{children:profile.user.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"fw-bold mb-0\",children:\"Age:\"}),/*#__PURE__*/_jsx(\"p\",{children:profile.user.age||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"fw-bold mb-0 text-danger\",children:\"Blood Group:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"fw-bold text-danger\",children:profile.user.blood_group||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"fw-bold mb-0\",children:\"Gender:\"}),/*#__PURE__*/_jsx(\"p\",{children:profile.user.gender||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"fw-bold mb-0\",children:\"Mobile Number:\"}),/*#__PURE__*/_jsx(\"p\",{children:profile.user.mobile||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 mt-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"fw-bold mb-0\",children:\"Address:\"}),/*#__PURE__*/_jsx(\"p\",{children:displayAddress}),mapHref&&/*#__PURE__*/_jsx(\"a\",{href:mapHref,target:\"_blank\",rel:\"noreferrer\",className:\"btn btn-outline-secondary btn-sm\",children:\"View on Google Maps\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 mt-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"fw-bold mb-0\",children:\"Last Donation Date:\"}),/*#__PURE__*/_jsx(\"p\",{children:lastDonationDate})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 mt-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"fw-bold mb-0\",children:\"Member Since:\"}),/*#__PURE__*/_jsx(\"p\",{children:memberSinceDate})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card text-white bg-dark shadow p-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title mb-3\",children:\"Donation History\"}),/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:'300px',overflowY:'auto'},children:profile.history&&profile.history.length>0?profile.history.sort((a,b)=>new Date(b.donation_date)-new Date(a.donation_date)).map((h,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 rounded \".concat(index>0?'mt-2 border-top border-secondary':''),children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 fw-bold\",children:h.venue}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[formatDate(h.donation_date),\" - \",h.units||1,\" unit(s)\"]})]},h._id||index)):/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"No donation history recorded yet.\"})})]})})]})]});}export default Profile;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","API_BASE_URL","Profile","profile","setProfile","errorMsg","setErrorMsg","navigate","userId","localStorage","getItem","formatDate","value","date","Date","isNaN","getTime","toLocaleDateString","year","month","day","e","getLastDonationDate","history","length","sortedHistory","sort","a","b","donation_date","alert","fetchProfile","response","fetch","concat","ok","Error","data","json","error","console","className","children","user","lastDonationDate","addressParts","address_line","city","state","pincode","filter","Boolean","fullAddressFromParts","join","displayAddress","address","mapHref","google_maps_link","trim","encodeURIComponent","memberSinceDate","created_at","onClick","name","email","age","blood_group","gender","mobile","href","target","rel","style","maxHeight","overflowY","map","h","index","venue","units","_id"],"sources":["E:/react+mongodb/lifeline/frontend/src/components/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\n\r\nconst API_BASE_URL = 'http://localhost:5000'; // ✅ Local backend\r\n\r\nfunction Profile() {\r\n  const [profile, setProfile] = useState(null);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const navigate = useNavigate();\r\n  const userId = localStorage.getItem('userId');\r\n\r\n  // --- Helper Functions ---\r\n\r\n  // ✅ Safe date formatter that works with both string and Date\r\n  const formatDate = (value) => {\r\n    if (!value) return 'N/A';\r\n\r\n    try {\r\n      const date = new Date(value); // handles Date object or ISO string\r\n      if (isNaN(date.getTime())) return 'N/A';\r\n\r\n      return date.toLocaleDateString('en-US', {\r\n        year: 'numeric',\r\n        month: 'short',\r\n        day: 'numeric',\r\n      });\r\n    } catch (e) {\r\n      return 'N/A';\r\n    }\r\n  };\r\n\r\n  // Function to determine the last donation date\r\n  const getLastDonationDate = (history) => {\r\n    if (!history || history.length === 0) return 'Never';\r\n\r\n    const sortedHistory = [...history].sort(\r\n      (a, b) => new Date(b.donation_date) - new Date(a.donation_date)\r\n    );\r\n    return formatDate(sortedHistory[0].donation_date);\r\n  };\r\n\r\n  // --- Data Fetching ---\r\n  useEffect(() => {\r\n    if (!userId) {\r\n      alert('Please log in to view your profile.');\r\n      navigate('/login');\r\n      return;\r\n    }\r\n\r\n    const fetchProfile = async () => {\r\n      try {\r\n        const response = await fetch(`${API_BASE_URL}/api/profile/${userId}`);\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch profile data');\r\n        }\r\n\r\n        const data = await response.json();\r\n        setProfile(data);\r\n        setErrorMsg('');\r\n      } catch (error) {\r\n        console.error('Error fetching profile:', error);\r\n        setErrorMsg('Unable to load profile. Please try again later.');\r\n      }\r\n    };\r\n\r\n    fetchProfile();\r\n  }, [userId, navigate]);\r\n\r\n  if (errorMsg) {\r\n    return (\r\n      <div className=\"container py-4\">\r\n        <h2 className=\"fw-bold mb-3\">My Profile</h2>\r\n        <div className=\"alert alert-danger\">{errorMsg}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!profile || !profile.user) {\r\n    return (\r\n      <div className=\"container py-4\">\r\n        <p>Loading profile...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // --- Data Preparation ---\r\n  const lastDonationDate = getLastDonationDate(profile.history);\r\n\r\n  // Build address:\r\n  // 1) Prefer the detailed fields (address_line, city, state, pincode)\r\n  // 2) Fallback to 'address' field (required in schema)\r\n  const addressParts = [\r\n    profile.user.address_line,\r\n    profile.user.city,\r\n    profile.user.state,\r\n    profile.user.pincode,\r\n  ].filter(Boolean);\r\n\r\n  const fullAddressFromParts = addressParts.join(', ');\r\n  const displayAddress =\r\n    fullAddressFromParts || profile.user.address || 'Address not set';\r\n\r\n  // Google Maps link: prefer stored google_maps_link; else build from address text\r\n  const mapHref =\r\n    profile.user.google_maps_link && profile.user.google_maps_link.trim() !== ''\r\n      ? profile.user.google_maps_link\r\n      : displayAddress && displayAddress !== 'Address not set'\r\n      ? `https://maps.google.com/?q=${encodeURIComponent(displayAddress)}`\r\n      : null;\r\n\r\n  // Member since – use created_at if present\r\n  const memberSinceDate = formatDate(profile.user.created_at);\r\n\r\n  // --- Rendering the Profile UI ---\r\n  return (\r\n    <div className=\"container py-4\">\r\n      <h2 className=\"fw-bold mb-4\">My Profile</h2>\r\n      <div className=\"row g-4\">\r\n        {/* --- Personal Information (Left Column) --- */}\r\n        <div className=\"col-lg-8\">\r\n          <div className=\"card shadow-sm p-4\">\r\n            <div className=\"d-flex justify-content-between align-items-center mb-4 border-bottom pb-3\">\r\n              <h5 className=\"mb-0 text-muted\">Personal Information</h5>\r\n              <button\r\n                className=\"btn btn-outline-danger btn-sm\"\r\n                onClick={() => navigate('/edit-profile')}\r\n              >\r\n                <i className=\"bi bi-pencil me-1\"></i> Edit Profile\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"row g-3\">\r\n              <div className=\"col-md-6\">\r\n                <p className=\"fw-bold mb-0\">Full Name:</p>\r\n                <p>{profile.user.name}</p>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <p className=\"fw-bold mb-0\">Email Address:</p>\r\n                <p>{profile.user.email}</p>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <p className=\"fw-bold mb-0\">Age:</p>\r\n                <p>{profile.user.age || 'N/A'}</p>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <p className=\"fw-bold mb-0 text-danger\">Blood Group:</p>\r\n                <p className=\"fw-bold text-danger\">\r\n                  {profile.user.blood_group || 'N/A'}\r\n                </p>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <p className=\"fw-bold mb-0\">Gender:</p>\r\n                <p>{profile.user.gender || 'N/A'}</p>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <p className=\"fw-bold mb-0\">Mobile Number:</p>\r\n                <p>{profile.user.mobile || 'N/A'}</p>\r\n              </div>\r\n\r\n              {/* Address */}\r\n              <div className=\"col-12 mt-3\">\r\n                <p className=\"fw-bold mb-0\">Address:</p>\r\n                <p>{displayAddress}</p>\r\n\r\n                {mapHref && (\r\n                  <a\r\n                    href={mapHref}\r\n                    target=\"_blank\"\r\n                    rel=\"noreferrer\"\r\n                    className=\"btn btn-outline-secondary btn-sm\"\r\n                  >\r\n                    View on Google Maps\r\n                  </a>\r\n                )}\r\n              </div>\r\n\r\n              {/* Last Donation Date & Member Since */}\r\n              <div className=\"col-md-6 mt-3\">\r\n                <p className=\"fw-bold mb-0\">Last Donation Date:</p>\r\n                <p>{lastDonationDate}</p>\r\n              </div>\r\n              <div className=\"col-md-6 mt-3\">\r\n                <p className=\"fw-bold mb-0\">Member Since:</p>\r\n                <p>{memberSinceDate}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* --- Donation History (Right Column) --- */}\r\n        <div className=\"col-lg-4\">\r\n          <div className=\"card text-white bg-dark shadow p-4\">\r\n            <h5 className=\"card-title mb-3\">Donation History</h5>\r\n            <div style={{ maxHeight: '300px', overflowY: 'auto' }}>\r\n              {profile.history && profile.history.length > 0 ? (\r\n                profile.history\r\n                  .sort(\r\n                    (a, b) =>\r\n                      new Date(b.donation_date) - new Date(a.donation_date)\r\n                  )\r\n                  .map((h, index) => (\r\n                    <div\r\n                      key={h._id || index}\r\n                      className={`p-2 rounded ${\r\n                        index > 0 ? 'mt-2 border-top border-secondary' : ''\r\n                      }`}\r\n                    >\r\n                      <p className=\"mb-0 fw-bold\">{h.venue}</p>\r\n                      <small className=\"text-muted\">\r\n                        {formatDate(h.donation_date)} - {h.units || 1} unit(s)\r\n                      </small>\r\n                    </div>\r\n                  ))\r\n              ) : (\r\n                <p className=\"text-muted\">\r\n                  No donation history recorded yet.\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}